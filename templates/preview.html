<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Preview Summary</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root{
            --teal-50:#f0fdfa; --teal-100:#ccfbf1; --teal-200:#99f6e4; --teal-300:#5eead4; --teal-400:#2dd4bf; --teal-500:#14b8a6; --teal-600:#0d9488; --teal-700:#0f766e; --teal-800:#115e59; --teal-900:#134e4a;
            --lavender-50:#faf5ff; --lavender-100:#f3e8ff; --lavender-200:#e9d5ff; --lavender-300:#d8b4fe; --lavender-400:#c084fc; --lavender-500:#a855f7; --lavender-600:#9333ea; --lavender-700:#7c3aed; --lavender-800:#6b21a8; --lavender-900:#581c87;
            --black:#1a1a1a; --gray-50:#f9fafb; --gray-100:#f3f4f6; --gray-200:#e5e7eb; --gray-300:#d1d5db; --gray-400:#9ca3af; --gray-500:#6b7280; --gray-600:#4b5563; --gray-700:#374151; --gray-800:#1f2937; --gray-900:#111827;
        }
        body{ background:var(--gray-50); color:var(--black); font-family:'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
        h1,h2,h3,h4,h5,h6{ color:var(--black); font-weight:600; }
        p, li, small, label, .form-text{ color:var(--gray-700); }
        .card{ border:1px solid var(--gray-200); border-radius:16px; background:white; box-shadow:0 1px 3px rgba(0,0,0,0.1); transition:all 0.2s ease; }
        .card:hover{box-shadow:0 4px 12px rgba(0,0,0,0.15); transform:translateY(-1px);}
        h1,h2,h3,h4,h5,h6,.card-title{ color:var(--black); font-weight:600; }
        .text-muted{ color:var(--gray-500) !important; }
        .btn-primary{background:var(--teal-600); border-color:var(--teal-600); color:white; font-weight:500; border-radius:8px; padding:0.5rem 1rem;} 
        .btn-primary:hover{background:var(--teal-700); border-color:var(--teal-700); transform:translateY(-1px); box-shadow:0 4px 12px rgba(20,184,166,0.3);} 
        .btn-outline-secondary{color:var(--gray-600); border-color:var(--gray-300); background:white; font-weight:500; border-radius:8px;} 
        .btn-outline-secondary:hover{background:var(--gray-50); border-color:var(--gray-400); color:var(--gray-700);}
        .link-badge{ max-width:100%; display:inline-block; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; background:var(--lavender-100) !important; color:var(--lavender-800) !important; border:1px solid var(--lavender-200) !important; border-radius:6px; padding:0.25rem 0.5rem; }
        .badge{font-weight:500; border-radius:6px;}
        .text-bg-info{background:var(--teal-100) !important; color:var(--teal-800) !important;}
        .text-bg-warning{background:var(--lavender-100) !important; color:var(--lavender-800) !important;}
        .summary-list li{line-height:1.7; margin-bottom:0.5rem; color:var(--gray-700);}
    </style>
</head>
<body>
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-sm mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-center justify-content-between">
                            <h5 class="card-title mb-1">Preview</h5>
                            <span class="badge bg-secondary">{{ preview.source }}</span>
                        </div>
                        {% if preview.event_date or preview.event_time or preview.venue %}
                            <div class="d-flex flex-wrap gap-2 my-3">
                                {% if preview.event_date or preview.event_time %}
                                    <span class="badge text-bg-info">WHEN: {{ preview.event_date }}{% if preview.event_time %} {{ preview.event_time }}{% endif %}</span>
                                {% endif %}
                                {% if preview.venue %}
                                    <span class="badge text-bg-warning">VENUE: {{ preview.venue }}</span>
                                {% endif %}
                            </div>
                        {% endif %}
                        {% if preview.summary_lines %}
                            <ul>
                                {% for line in preview.summary_lines %}
                                    <li>{{ line }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p class="text-muted">No summary extracted.</p>
                        {% endif %}
                        {% if preview.links %}
                            <div class="mt-2">
                                <div class="text-muted small mb-1">Links</div>
                                <div class="d-flex flex-wrap gap-2">
                                    {% for l in preview.links %}
                                        <a class="badge bg-light text-dark border link-badge" target="_blank" href="{{ l }}">{{ l }}</a>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <form action="/save_summary" method="post" class="d-flex gap-2">
                    <input type="hidden" name="subject" value="{{ preview.subject }}">
                    <input type="hidden" name="source" value="{{ preview.source }}">
                    <input type="hidden" name="summary_lines" value='{{ preview.summary_lines | tojson }}'>
                    <input type="hidden" name="links" value='{{ preview.links | tojson }}'>
                    <input type="hidden" name="event_date" value="{{ preview.event_date }}">
                    <input type="hidden" name="event_time" value="{{ preview.event_time }}">
                    <input type="hidden" name="venue" value="{{ preview.venue }}">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a href="/" class="btn btn-outline-secondary">Discard</a>
                </form>
            </div>
        </div>
    </div>
</body>
</html> 